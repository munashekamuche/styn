<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie Management - Styn Admin</title>

  <link rel="shortcut icon" href="../assets/images/site_logo.png" type="image/png">
  <link rel="stylesheet" href="../assets/css/style.css">
  <link rel="stylesheet" href="../assets/css/admin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Kaushan+Script&family=Pacifico&display=swap" rel="stylesheet">
</head>

<body id="top" class="admin-body">

  <div class="admin-wrapper">
    <!-- SIDEBAR -->
    <aside class="admin-sidebar" id="adminSidebar">
      <div class="sidebar-header">
        <a href="../index.html" class="admin-logo">
          <img src="../assets/images/logo.png" alt="Styn" class="logo-img">
          <span class="logo-tagline">A Unique Experience.</span>
        </a>
        <span class="admin-badge">Admin</span>
      </div>
      
      <nav class="sidebar-nav">
        <div class="nav-section">
          <span class="nav-section-title">Main</span>
          <ul class="nav-list">
            <li>
              <a href="./index.html" class="nav-link">
                <ion-icon name="grid-outline"></ion-icon>
                <span>Dashboard</span>
              </a>
            </li>
            <li>
              <a href="./analytics.html" class="nav-link">
                <ion-icon name="bar-chart-outline"></ion-icon>
                <span>Analytics</span>
              </a>
            </li>
          </ul>
        </div>
        
        <div class="nav-section">
          <span class="nav-section-title">Management</span>
          <ul class="nav-list">
            <li>
              <a href="./movies.html" class="nav-link active">
                <ion-icon name="film-outline"></ion-icon>
                <span>Movies</span>
                <span class="nav-badge">247</span>
              </a>
            </li>
            <li>
              <a href="./users.html" class="nav-link">
                <ion-icon name="people-outline"></ion-icon>
                <span>Users</span>
              </a>
            </li>
            <li>
              <a href="./content.html" class="nav-link">
                <ion-icon name="videocam-outline"></ion-icon>
                <span>Content</span>
                <span class="nav-badge warning">12</span>
              </a>
            </li>
            <li>
              <a href="./ads.html" class="nav-link">
                <ion-icon name="megaphone-outline"></ion-icon>
                <span>Advertisements</span>
              </a>
            </li>
            <li>
              <a href="./live.html" class="nav-link">
                <ion-icon name="radio-outline"></ion-icon>
                <span>Live Streams</span>
              </a>
            </li>
            <li>
              <a href="./dating.html" class="nav-link">
                <ion-icon name="heart-outline"></ion-icon>
                <span>Dating</span>
              </a>
            </li>
          </ul>
        </div>
        
        <div class="nav-section">
          <span class="nav-section-title">System</span>
          <ul class="nav-list">
            <li>
              <a href="./settings.html" class="nav-link">
                <ion-icon name="settings-outline"></ion-icon>
                <span>Settings</span>
              </a>
            </li>
            <li>
              <a href="../index.html" class="nav-link"><ion-icon name="home-outline"></ion-icon>
                <span>View Site</span>
              </a>
            </li>
            <li>
              <a href="#" class="nav-link" onclick="adminLogout()">
                <ion-icon name="log-out-outline"></ion-icon>
                <span>Logout</span>
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="admin-main">
      <!-- TOP BAR -->
      <header class="admin-topbar">
        <button class="sidebar-toggle" id="sidebarToggle">
          <ion-icon name="menu-outline"></ion-icon>
        </button>
        
        <div class="topbar-search">
          <ion-icon name="search-outline"></ion-icon>
          <input type="text" placeholder="Search movies...">
        </div>
        
        <div class="topbar-actions">
          <button class="topbar-btn notification-btn">
            <ion-icon name="notifications-outline"></ion-icon>
            <span class="notification-dot"></span>
          </button>
          <div class="admin-profile">
            <div class="admin-avatar">
              <ion-icon name="person"></ion-icon>
            </div>
            <div class="admin-info">
              <span class="admin-name">Admin</span>
              <span class="admin-role">Super Admin</span>
            </div>
          </div>
        </div>
      </header>

      <!-- CONTENT -->
      <div class="admin-content">
        <!-- PAGE HEADER -->
        <div class="page-header">
          <div class="page-title">
            <h1>Movie Management</h1>
            <p>Manage your blockbuster movie collection</p>
          </div>
          <div class="page-actions">
            <button class="btn-admin secondary" onclick="exportMovies()">
              <ion-icon name="download-outline"></ion-icon>
              Export
            </button>
            <button class="btn-admin primary" onclick="showAddMovieModal()">
              <ion-icon name="add-outline"></ion-icon>
              Add Movie
            </button>
          </div>
        </div>

        <!-- STATS -->
        <div class="stats-row">
          <div class="stat-card">
            <div class="stat-icon movies">
              <ion-icon name="film"></ion-icon>
            </div>
            <div class="stat-content">
              <span class="stat-value">247</span>
              <span class="stat-label">Total Movies</span>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon views">
              <ion-icon name="eye"></ion-icon>
            </div>
            <div class="stat-content">
              <span class="stat-value">1.2M</span>
              <span class="stat-label">Total Views</span>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon revenue">
              <ion-icon name="cash"></ion-icon>
            </div>
            <div class="stat-content">
              <span class="stat-value">$45,230</span>
              <span class="stat-label">Total Revenue</span>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon users">
              <ion-icon name="star"></ion-icon>
            </div>
            <div class="stat-content">
              <span class="stat-value">4.7</span>
              <span class="stat-label">Avg. Rating</span>
            </div>
          </div>
        </div>

        <!-- FILTERS -->
        <div class="filters-bar">
          <div class="filter-search">
            <ion-icon name="search-outline"></ion-icon>
            <input type="text" placeholder="Search by title, genre..." id="movieSearch">
          </div>
          <select class="filter-select" id="genreFilter">
            <option value="">All Genres</option>
            <option value="action">Action</option>
            <option value="comedy">Comedy</option>
            <option value="drama">Drama</option>
            <option value="horror">Horror</option>
            <option value="sci-fi">Sci-Fi</option>
            <option value="thriller">Thriller</option>
          </select>
          <select class="filter-select" id="statusFilter">
            <option value="">All Status</option>
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
            <option value="featured">Featured</option>
          </select>
          <select class="filter-select" id="sortFilter">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
            <option value="title">Title A-Z</option>
            <option value="views">Most Views</option>
            <option value="revenue">Highest Revenue</option>
          </select>
        </div>

        <!-- MOVIES TABLE -->
        <div class="table-card">
          <div class="table-body">
            <table class="admin-table" id="moviesTable">
              <thead>
                <tr>
                  <th>
                    <label class="checkbox-label">
                      <input type="checkbox" id="selectAll">
                      <span class="checkmark"></span>
                    </label>
                  </th>
                  <th>Movie</th>
                  <th>Genre</th>
                  <th>Price</th>
                  <th>Views</th>
                  <th>Revenue</th>
                  <th>Rating</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="moviesTableBody">
                <!-- Loaded by JS -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- PAGINATION -->
        <div class="pagination">
          <button class="page-btn" id="prevPage">
            <ion-icon name="chevron-back"></ion-icon>
          </button>
          <button class="page-btn active">1</button>
          <button class="page-btn">2</button>
          <button class="page-btn">3</button>
          <button class="page-btn">...</button>
          <button class="page-btn">25</button>
          <button class="page-btn" id="nextPage">
            <ion-icon name="chevron-forward"></ion-icon>
          </button>
        </div>
      </div>
    </main>
  </div>

  <!-- ADD/EDIT MOVIE MODAL -->
  <div class="admin-modal" id="movieModal" style="display: none;">
    <div class="admin-modal-content" style="max-width: 700px;">
      <button class="modal-close-btn" onclick="closeMovieModal()">
        <ion-icon name="close-outline"></ion-icon>
      </button>
      <h2 class="modal-title" id="movieModalTitle">Add New Movie</h2>
      
      <form class="admin-form" id="movieForm">
        <div class="form-row">
          <div class="form-group">
            <label>Movie Title *</label>
            <input type="text" id="movieTitle" required placeholder="Enter movie title">
          </div>
          <div class="form-group">
            <label>Release Year *</label>
            <input type="number" id="movieYear" required placeholder="2024" min="1900" max="2030">
          </div>
        </div>
        
        <div class="form-group">
          <label>Description *</label>
          <textarea id="movieDescription" rows="4" required placeholder="Enter movie description"></textarea>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label>Genre *</label>
            <select id="movieGenre" required>
              <option value="">Select Genre</option>
              <option value="action">Action</option>
              <option value="comedy">Comedy</option>
              <option value="drama">Drama</option>
              <option value="horror">Horror</option>
              <option value="sci-fi">Sci-Fi</option>
              <option value="thriller">Thriller</option>
              <option value="romance">Romance</option>
              <option value="animation">Animation</option>
            </select>
          </div>
          <div class="form-group">
            <label>Duration (minutes) *</label>
            <input type="number" id="movieDuration" required placeholder="120" min="1">
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label>Price ($) *</label>
            <input type="number" id="moviePrice" step="0.01" min="0" required placeholder="4.99">
          </div>
          <div class="form-group">
            <label>Rating</label>
            <select id="movieRating">
              <option value="G">G - General Audiences</option>
              <option value="PG">PG - Parental Guidance</option>
              <option value="PG-13" selected>PG-13 - Parents Cautioned</option>
              <option value="R">R - Restricted</option>
              <option value="NC-17">NC-17 - Adults Only</option>
            </select>
          </div>
        </div>
        
        <div class="form-group">
          <label>Thumbnail Image *</label>
          <div class="file-upload-area" id="thumbnailUpload">
            <ion-icon name="image-outline"></ion-icon>
            <p>Drag and drop or <span>browse</span></p>
            <p class="form-hint">Recommended: 1280x720 (16:9)</p>
          </div>
          <input type="file" id="movieThumbnail" accept="image/*" hidden>
        </div>
        
        <div class="form-group">
          <label>Video File *</label>
          <div class="file-upload-area" id="videoUpload">
            <ion-icon name="videocam-outline"></ion-icon>
            <p>Drag and drop or <span>browse</span></p>
            <p class="form-hint">Supported: MP4, MKV, AVI (Max 10GB)</p>
          </div>
          <input type="file" id="movieVideo" accept="video/*" hidden>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label>Status</label>
            <select id="movieStatus">
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
              <option value="featured">Featured</option>
            </select>
          </div>
          <div class="form-group">
            <label>Quality</label>
            <select id="movieQuality">
              <option value="4K">4K Ultra HD</option>
              <option value="1080p" selected>1080p Full HD</option>
              <option value="720p">720p HD</option>
              <option value="480p">480p SD</option>
            </select>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn-admin secondary" onclick="closeMovieModal()">Cancel</button>
          <button type="submit" class="btn-admin primary">
            <ion-icon name="save-outline"></ion-icon>
            Save Movie
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- DELETE CONFIRMATION MODAL -->
  <div class="admin-modal" id="deleteModal" style="display: none;">
    <div class="admin-modal-content" style="max-width: 400px; text-align: center;">
      <div class="delete-icon">
        <ion-icon name="trash-outline"></ion-icon>
      </div>
      <h2 class="modal-title">Delete Movie?</h2>
      <p style="color: var(--admin-text-muted); margin-bottom: 24px;">Are you sure you want to delete this movie? This action cannot be undone.</p>
      <div class="form-actions" style="justify-content: center;">
        <button class="btn-admin secondary" onclick="closeDeleteModal()">Cancel</button>
        <button class="btn-admin danger" onclick="confirmDelete()">
          <ion-icon name="trash-outline"></ion-icon>
          Delete
        </button>
      </div>
    </div>
  </div>

  <script src="../assets/js/main/notify.js"></script>
  <script src="../assets/js/admin/movies.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>

</html>

